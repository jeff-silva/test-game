import{_ as p}from"./De-ZG0C9.js";import{S as d,a as o}from"./BwSeYKQ1.js";import{n as h,p as m,m as l,w as u,o as y,a as n}from"./B6jcXzCi.js";import"./DLb91F2m.js";import"./OOJU6yUV.js";import"./D-qi7e-V.js";const C={__name:"rapier-03",setup(_){class i extends d{preload(){return{scene:{url:"assets/threejs/models/low-poly-level/scene.gltf",onLoad:e=>{this.scene.add(e.model.scene),this.scriptAttach(e.model.scene,new r),this.physicsAttach(e.model.scene)}}}}onCreate(){this.scriptAttach(this.camera,new a)}}class r extends o{onCreate(){this.scene.camera.position.set(-3,0,2)}}class a extends o{onCreate(){this.pointerLockControlsInit(),this.movementControlsInit(),this.testInit()}pointerLockControlsInit(){this.pointerLock=this.scene.getPointerLockControls({target:this.scene.camera,pointerSpeed:.4})}movementControlsInit(){this.scene.on("update",()=>{this.scene.input.keyboard.w&&this.pointerLock.moveForward(.04),this.scene.input.keyboard.s&&this.pointerLock.moveForward(-.04),this.scene.input.keyboard.a&&this.pointerLock.moveRight(-.04),this.scene.input.keyboard.d&&this.pointerLock.moveRight(.04)})}testInit(){this.scene.basicMeshPhysicsAdd({position:{x:-4,y:0,z:0},geometry:{type:"capsule",radius:.2,length:1}}),this.scene.basicMeshPhysicsAdd({position:{x:-2,y:0,z:0},geometry:{type:"cube",width:.6,height:.6,depth:.6}})}}const t=new i({el:"#game",debug:!0});return t.on("destroy",()=>{location.reload()}),h(()=>{t.init()}),m(()=>{t.destroy()}),(s,e)=>{const c=p;return y(),l(c,{name:"main"},{default:u(()=>e[0]||(e[0]=[n("div",{id:"game",style:{width:"100%",height:"400px",position:"relative"}},null,-1),n("a",{href:""},"Refresh",-1)])),_:1})}}};export{C as default};
