import{_ as m}from"./B5jSB1xc.js";import{u as d}from"./cJqk34i8.js";import{S as h,I as o,C as y}from"./BadF0ESG.js";import"./hVKSCpit.js";import{n as u,p as x,m as g,w as _,o as f,a as i}from"./ezY9ZAhu.js";import"./D3Mqfikn.js";import"./DQ4UCc7_.js";import"./BCwzVlOA.js";import"./vUEbHlag.js";import"./Cpj98o6Y.js";const P={__name:"rapier-player",setup(v){const n=d();class r extends h{preloadFiles(){return{level:{url:n.baseUrl("assets/threejs/models/low-poly-level/scene.gltf")}}}onCreate(){this.game.camera.position.set(-4,1,6),this.instanceAdd(new c(this)),this.instanceAdd(new p(this)),this.instanceAdd(new l(this))}}class c extends o{onCreate(){const e=this.root.preload.files.level.model.scene;this.root.game.scene.add(e),this.root.physics.applyPhysicsBodyTrimesh({object:e,physics:{type:"fixed",mass:100},filter:a=>!["Line037_16"].includes(a.name)})}}class p extends o{onCreate(){this.player=this.scriptAdd(new y(this,{camera:this.root.game.camera,playerPosition:{x:-2,y:.5,z:1}})),this.player.cameraModeSet("Third"),this.root.canvas.el.addEventListener("click",()=>{this.player.pointerLockControl.lock()})}}class l extends o{onCreate(){this.root.game,this.root.physics.basicMeshAdd({material:{type:"basic"},geometry:{type:"box"},position:{x:-2,y:.5,z:0},rotation:{x:.2,y:.2,z:.2},physics:{type:"dynamic",mass:.01}}),this.root.physics.basicMeshAdd({material:{type:"basic"},geometry:{type:"capsule",radius:.5,length:.5},position:{x:-4,y:.5,z:0},rotation:{x:.2,y:.2,z:.2},physics:{type:"dynamic"}}),this.root.physics.basicMeshAdd({material:{type:"basic"},geometry:{type:"sphere",radius:.5},position:{x:-6,y:.5,z:0},rotation:{x:.2,y:.2,z:.2},physics:{type:"dynamic"}})}}const s=new r({el:"#game",debug:!1});return s.event.on("destroy",()=>{location.reload()}),u(()=>{s.init()}),x(()=>{s.destroy()}),(t,e)=>{const a=m;return f(),g(a,{name:"main"},{default:_(()=>e[0]||(e[0]=[i("div",{id:"game",style:{width:"100%",height:"400px",position:"relative"}},null,-1),i("a",{href:""},"Refresh",-1),i("div",{style:{height:"100vh"}},null,-1)])),_:1})}}};export{P as default};
