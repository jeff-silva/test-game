import{_ as a}from"./B5jSB1xc.js";import{S as c,a as p}from"./DZK1V6An.js";import{n as h,p as d,m as l,w as m,o as y,a as s}from"./ezY9ZAhu.js";import"./D3Mqfikn.js";import"./DQ4UCc7_.js";import"./BCwzVlOA.js";import"./C7Qk42do.js";const w={__name:"rapier-03",setup(u){class i extends c{preload(){return{scene:{url:"assets/threejs/models/low-poly-level/scene.gltf",onLoad:e=>{this.scene.add(e.model.scene),this.coplexPhysicsAttach(e.model.scene,{body:{type:"fixed",mass:100}})}}}}onCreate(){this.scriptAttach(this.camera,new n),this.camera.position.set(-3,0,2),this.testInit(),this.player=this.physics.characterController(),console.log(this.player),this.on("update",()=>{this.input.keyboard.e&&console.log(this.player.move)})}testInit(){this.basicMeshPhysicsAdd({position:{x:-4,y:0,z:0},material:{type:"basic",color:16711680},geometry:{type:"capsule",radius:.2,length:1}}),this.basicMeshPhysicsAdd({position:{x:-2,y:0,z:0},material:{type:"basic",color:16711680},geometry:{type:"cube",width:.6,height:.6,depth:.6}})}}class n extends p{onCreate(){this.pointerLockControlsInit(),this.movementControlsInit()}pointerLockControlsInit(){this.pointerLock=this.scene.getPointerLockControls({target:this.scene.camera,pointerSpeed:.4})}movementControlsInit(){this.scene.on("update",()=>{this.scene.input.keyboard.w&&this.pointerLock.moveForward(.04),this.scene.input.keyboard.s&&this.pointerLock.moveForward(-.04),this.scene.input.keyboard.a&&this.pointerLock.moveRight(-.04),this.scene.input.keyboard.d&&this.pointerLock.moveRight(.04)})}}const t=new i({el:"#game",debug:!0});return t.on("destroy",()=>{location.reload()}),h(()=>{t.init()}),d(()=>{t.destroy()}),(o,e)=>{const r=a;return y(),l(r,{name:"main"},{default:m(()=>e[0]||(e[0]=[s("div",{id:"game",style:{width:"100%",height:"400px",position:"relative"}},null,-1),s("a",{href:""},"Refresh",-1),s("div",{style:{height:"100vh"}},null,-1)])),_:1})}}};export{w as default};
